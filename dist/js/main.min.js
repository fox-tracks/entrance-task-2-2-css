!function(){const e=document.querySelector(".hamburger-btn"),t=document.querySelector(".header__nav");e.addEventListener("click",()=>{t.classList.toggle("header__nav_state_shown"),e.classList.toggle("hamburger-btn_action_close")});const r=document.querySelector(".btn-slider-nav_section_scenarios.btn-slider-nav_direction_right"),l=document.querySelector(".btn-slider-nav_section_scenarios.btn-slider-nav_direction_left"),n=document.querySelector(".scenarios__wrapper"),o=document.querySelectorAll(".scenarios__item"),s=Math.ceil(o.length/3)-1,a=n.getBoundingClientRect().width,c=a*s;window.matchMedia("(max-width: 800px)").matches&&s>0&&r.classList.add("btn-slider-nav_state_active"),r.addEventListener("click",()=>{let e,t=getComputedStyle(n).getPropertyValue("transform"),o=Math.abs(+t.split(",")[4]);e="none"===t?1:o/a+1,console.log(e),s>0&&(c-o!=0||"none"===t)&&(n.style.transform="translateX(-"+a*e+"px)",l.classList.add("btn-slider-nav_state_active"),(o+a===c||a===c)&&r.classList.remove("btn-slider-nav_state_active"))}),l.addEventListener("click",()=>{let e=getComputedStyle(n).getPropertyValue("transform"),t=Math.abs(+e.split(",")[4]),o=t/a-1;s>0&&t-a>=0&&(n.style.transform="translateX(-"+a*o+"px)",r.classList.add("btn-slider-nav_state_active"),t-a==0&&l.classList.remove("btn-slider-nav_state_active"))});const i=document.querySelector(".btn-slider-nav_section_devices.btn-slider-nav_direction_right"),d=document.querySelector(".btn-slider-nav_section_devices.btn-slider-nav_direction_left"),u=document.querySelector(".devices__wrapper"),_=document.querySelectorAll(".devices__item"),p=Array.from(_).filter(e=>{e.style.display="flex"}),y=document.querySelector(".devices__item"),m=u.getBoundingClientRect().width,f=y.getBoundingClientRect().width,v=getComputedStyle(y).getPropertyValue("margin-right"),h=+v.slice(0,v.length-2),b=Math.floor(m/(f+h)),g=b*(f+h),S=Math.ceil(+p.length/b)-1,q=g*S;i.addEventListener("click",()=>{let e,t=getComputedStyle(u).getPropertyValue("transform"),r=Math.abs(+t.split(",")[4]);e="none"===t?1:r/g+1,u.style.transform="translateX(-"+e*g+"px)",d.classList.add("btn-slider-nav_state_active"),(r+g===q||g===q)&&i.classList.remove("btn-slider-nav_state_active")}),d.addEventListener("click",()=>{let e=getComputedStyle(u).getPropertyValue("transform"),t=Math.abs(+e.split(",")[4]),r=t/g-1;u.style.transform="translateX(-"+r*g+"px)",i.classList.add("btn-slider-nav_state_active"),t-g==0&&d.classList.remove("btn-slider-nav_state_active")});const L=document.querySelector(".control__value"),E=document.querySelector(".control__thumb"),w=document.querySelector(".control__grade");let k=!1;function x(e){const t=L.getBoundingClientRect(),r=window.getComputedStyle(L).transformOrigin.split(" ");let l,n;if(k){let o=e;e.targetTouches&&e.targetTouches[0]?(l=(o=e.targetTouches[0]).pageX,n=o.pageY):(l=e.clientX,n=e.clientY);const s=t.top+parseInt(r[1])-window.pageYOffset,a=t.left+parseInt(r[0])-window.pageXOffset;let c,i=Math.atan2(l-a,n-s)*(180/Math.PI)*-1+180,d=700-(c=i<=146?697*(i+153)/360:i>=146&&i<=180?580:i>=180&&i<=210.3?0:697*(i-360+153)/360);i>=146&&i<=180?(E.style.transform="rotate(146deg) translateY(-87px)",w.style.strokeDasharray=c+" "+d):i>=180&&i<=210.3?(E.style.transform="rotate(210.3deg) translateY(-87px)",w.style.strokeDasharray=c+" "+d):(E.style.transform="rotate("+i+"deg) translateY(-87px)",w.style.strokeDasharray=c+" "+d)}}L.addEventListener("mousedown",function(e){e.stopPropagation(),k=!0,x(e)}),L.addEventListener("touchstart",function(e){e.stopPropagation(),k=!0,x(e)}),document.addEventListener("mouseup",function(e){k=!1}),window.addEventListener("mousemove",x),window.addEventListener("touchmove",x);const A=document.querySelectorAll(".filter-btn"),C=document.querySelector(".devices__wrapper"),M=document.querySelector(".equipment__menu-toggle"),P=document.querySelector(".filters-menu");A.forEach(e=>{e.addEventListener("click",()=>{A.forEach(e=>{e.checked=!1,e.removeAttribute("checked")}),e.checked=!0,e.setAttribute("checked","checked");let t=e.id;switch(M.textContent=e.dataset.html,P.classList.remove("filters-menu_state_visible"),t){case"filter-btn_value_all":const r=C.querySelectorAll(".filtered_all");C.querySelectorAll(".filtered:not(.filtered_all)").forEach(e=>e.style.display="none"),r.forEach(e=>e.style.display="flex");break;case"filter-btn_value_kitchen":const l=C.querySelectorAll(".filtered_kitchen");C.querySelectorAll(".filtered:not(.filtered_kitchen)").forEach(e=>e.style.display="none"),l.forEach(e=>e.style.display="flex");break;case"filter-btn_value_room":const n=C.querySelectorAll(".filtered_room");C.querySelectorAll(".filtered:not(.filtered_room)").forEach(e=>e.style.display="none"),n.forEach(e=>e.style.display="flex");break;case"filter-btn_value_bulbs":const o=C.querySelectorAll(".filtered_bulbs");C.querySelectorAll(".filtered:not(.filtered_bulbs)").forEach(e=>e.style.display="none"),o.forEach(e=>e.style.display="flex");break;case"filter-btn_value_cameras":const s=C.querySelectorAll(".filtered_cameras");C.querySelectorAll(".filtered:not(.filtered_cameras)").forEach(e=>e.style.display="none"),s.forEach(e=>e.style.display="flex")}})}),M.addEventListener("click",()=>{P.classList.add("filters-menu_state_visible")});const X=document.querySelector(".btn_action_open-popup-light"),Y=document.querySelector(".btn_action_open-popup-heat"),B=document.querySelector(".btn_action_open-popup-floor"),R=document.querySelector(".popup_type_light"),V=document.querySelector(".popup_type_heat"),T=document.querySelector(".popup_type_floor"),D=document.querySelectorAll(".popup"),I=document.querySelectorAll(".popup__btn_type_close"),O=document.querySelector(".page__wrapper"),j=T.querySelector(".popup__content"),z=R.querySelector(".popup__content"),F=V.querySelector(".popup__content");function G(){O.classList.remove("page__wrapper_state_blur")}function H(e,t,r){const l=e.getBoundingClientRect();r.style.top=l.top+"px",r.style.left=l.left+"px",O.classList.add("page__wrapper_state_blur"),setTimeout(function(){t.classList.add("popup_state_visible")},5)}B.addEventListener("click",()=>{H(B,T,j)}),X.addEventListener("click",()=>{H(X,R,z)}),Y.addEventListener("click",()=>{H(Y,V,F)}),I.forEach(e=>{e.addEventListener("click",()=>{D.forEach(e=>e.classList.contains("popup_state_visible")&&e.classList.remove("popup_state_visible")),G()})}),window.addEventListener("keydown",e=>{27===e.keyCode&&(D.forEach(e=>e.classList.contains("popup_state_visible")&&e.classList.remove("popup_state_visible")),G())});const J=document.querySelector(".main-devices"),K=document.querySelector(".btn-slider-nav_type_double-arrow");J.addEventListener("scroll",function e(){K.style.display="none",J.removeEventListener("scroll",e)})}();